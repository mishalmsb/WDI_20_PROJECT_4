<!DOCTYPE html>
<html ng-app="lifeLine">
<head>
  <title>Life Line</title>

  <!-- Angular Dependencies-->
  <script src="/angular/angular.min.js"></script>
  <script src="/angular-animate/angular-animate.min.js"></script>
  <script src="/angular-aria/angular-aria.min.js"></script>
  <script src="/angular-messages/angular-messages.min.js"></script>
  <script src="/angular-resource/angular-resource.min.js"></script>
  <script src="/angular-ui-router/release/angular-ui-router.min.js"></script>
  <script src="/angular-jwt/dist/angular-jwt.min.js"></script>

  <!-- Angular Material CSS Dependencies -->
  <link rel="stylesheet" href="/angular-material/angular-material.min.css">

  <!-- Angular Material js Dependencies -->
  <script src="/angular-material/angular-material.min.js"></script>
  <!-- <script src="//cdn.jsdelivr.net/angular-material-icons/0.4.0/angular-material-icons.min.js"></script> -->
  <script src="/angular-material-icons/angular-material-icons.min.js"></script>

  <!-- Custom CSS Dependencies -->
  <link rel="stylesheet" href="./css/style.css">

  <!-- socket Dependencies -->
  <script type="text/javascript" src="/socket.io/socket.io.js"></script>

  <!-- JQuery -->
  <script src="/jquery/dist/jquery.min.js"></script>

  <!-- Bootstrap Dependencies -->
  <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css">
  <script src="/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- App Internal Files -->
  <script src="./js/client.js"></script>
  <script src="./js/models/user.js"></script>
  <script src="./js/models/topic.js"></script>
  <script src="./js/config/routes.js"></script>
  <script src="./js/filters/online.js"></script>
  <script src="./js/controllers/appController.js"></script>
  <script src="./js/controllers/usersController.js"></script>
  <script src="./js/controllers/chatController.js"></script>
  <script src="./js/controllers/videosController.js"></script>
  <script src="js/factories/authInterceptor.js"></script>
  <script src="js/services/tokenService.js"></script>
  <script src="js/services/currentUser.js"></script>
  <script src="js/services/socketsService.js"></script>


</head>
<body layout="row" ng-controller="AppCtrl">

  <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2"
  md-component-id="left" md-is-locked-open="$mdMedia('gt-md')" ng-show="checkLoggedIn()">
  <md-toolbar class="md-tall md-hue-2">
    <span flex></span>
    <div layout="column" class="md-toolbar-tools-bottom inset">
      <user-avatar></user-avatar>
      <span></span>
      <div> <label ng-value="getName()"> {{getName()}} </label> </div>
      <div></div>
    </div>
  </md-toolbar>
  <md-list>
  <md-item ng-repeat="item in menu">
    <a ui-sref={{item.link}}>
      <md-item-content md-ink-ripple layout="row" layout-align="start center">
        <div class="inset">
          <ng-md-icon icon="{{item.icon}}"></ng-md-icon>
        </div>
        <div class="inset">{{item.title}}
        </div>
      </md-item-content>
    </a>
  </md-item>
  <md-divider></md-divider>
  <md-item ng-controller="UsersController as users">
    <a href="#" ui-sref="login" ng-click="users.logout()">
      <md-item-content md-ink-ripple layout="row" layout-align="start center">
        <div class="inset">
          <ng-md-icon icon="login"></ng-md-icon>
        </div>
        <div class="inset">Logout
        </div>
      </md-item-content>
    </a>
  </md-item>

</md-list>
</md-sidenav>
<div layout="column" class="relative" layout-fill role="main">
  <md-toolbar ng-show="!showSearch">
    <div class="md-toolbar-tools">
      <md-button ng-click="toggleSidenav('left')" hide-gt-md aria-label="Menu">
        <ng-md-icon icon="menu"></ng-md-icon>
      </md-button>
      <h3>
        LifeLine
      </h3>
      <span flex></span>
    </div>
  </md-toolbar>
  <div>

  <!-- VIDEOS -->
    <!-- <div class="videoBox display" ng-controller="VideosController as videos" ng-show="videos.display"> -->
    <div class="videoBox display" ng-controller="VideosController as videos" ng-show="checkPage()">
      <h1>{{ currentUser.local.fullname }}</h1>
      <div class="container">
          <div class="row">
              <div class="col-md-6 col-md-offset-0 display">
                  <iframe width="100%" height="100%" ng-src="{{videos.currentVideo}}" frameborder="0" allowfullscreen></iframe>
              </div>
              <div class="col-md-4 col-md-offset-1 display">
                <ul ng-repeat="src in videos.all track by $index">
                  <li> 
                    <button ng-click="videos.changeVideo(src.youtubeId)">{{src.title}}</button>
                  </li>
                </ul>
              </div>
          </div>
          <form id="login" name="users.loginForm" ng-submit="videos.addVideo()" novalidate>
              <!-- <label>https://www.youtube.com/watch?v=NF-kLy44Hls</label> -->
              <input type="text" placeholder="Music Title" ng-model="videos.newMusic.title" required>
              <input type="text" placeholder="Music URL" ng-model="videos.newMusic.youtubeId" required>
              <md-button type="submit" class="md-raised md-primary">Submit</md-button>
          </form>
      </div>
    </div>
  <!-- VIDEOS -->

    <section ng-controller="UsersController as users">
    <!-- <section ng-controller="ChatController as chats"> -->
      <main class="md-fab md-fab-bottom-right"  ui-view></main>
    <!-- </section> -->

    </section>
  </div>
</div>

  <script type="text/javascript" src="/socket.io/socket.io.js"></script>

</body>
</html>
